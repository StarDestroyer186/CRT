function MapOperat(e,t,i,a,n){this.markers=[],this.zoneMarkers=[],this.drivers=[],this.drivers4jb=[],this.extbar=a,this.search=i,this.history=n;var s=document.getElementById(e);this.map_obj=new MapClassImpl(s,t,i,a,n,this.drivers4jb)}MapOperat.prototype={ActiveNavigationTool:function(e){this.map_obj.ActiveNavigationTool(e)},ActiveTaskPathTool:function(e,t,i){this.map_obj.ActiveTaskPathTool(e,t,i)},ActiveMeasureTool:function(e){this.map_obj.ActiveMeasureTool(e)},ActiveRulerTool:function(e){this.map_obj.ActiveRulerTool(e)},AddEvent:function(e,t){this.map_obj.AddEvent(e,t)},Free:function(){this.map_obj.Free(),this.map_obj=null,this.markers=null},Center:function(e,t,i){try{this.map_obj.Center(e,t,i)}catch(e){}},Zoom:function(e){try{this.map_obj.Zoom(e)}catch(e){}},GetMap:function(){return this.map_obj.GetMap()},GeoNames:function(e,t,i,a,n){try{this.map_obj.GeoNames(e,t,i,a,n)}catch(e){}},GetIdValue:function(e,t){if(null==e||e.length<1||null==t||t.length<1)return null;for(var i=t.split(","),a=0;a<i.length;a++){var n=i[a].split(":");if(0==i[a].indexOf(e)&&2==n.length)return 0==n[1].length?null:n[1]}return null},MoveTop:function(e){this.map_obj.MoveTop(e)},DrawIcon:function(e,t,i,a,n,s,o,r,l,p,c,h,u,d,m,_,b,f,v,g,k,S){var T=!1,j=!1,M=window.parent;if(void 0!==this.map_obj&&null!=s&&0!=s&&null!=o&&0!=o){var E,I,x="--",N="--",L="--",G="--",C="--",J="--",y="--",A="--",O="--",F="--",w="--",U=M.JS_NO_DRIVER,D="<img src='img/none driver.png' alt='null' height='89' width='80'>";if(null!=g&&void 0!==g&&g.length>0){if((R=this.drivers[e])||(R=this.drivers4jb[g])&&(this.drivers[e]=R),R&&R.jb==g&&R.name==k)D=R.img,U=k;else{var R={jb:g,name:k,img:D};this.drivers[e]=R,j=!0,D=R.img,U=k}this.drivers4jb[g]=R;var P=this;j&&$.get("driver.image.ajax.php",{jb:g},function(T){"none"!=T&&(R.img=T,P.drivers4jb[g]=R),P.DrawIcon(e,t,i,a,n,s,o,r,l,p,c,h,u,d,m,_,b,f,v,g,k,S)})}if(null!=b&&void 0!==b&&b.length>0&&(b.indexOf("3005")>=0?x=M.JS_ENGINE_ON:b.indexOf("3006")>=0&&(x=M.JS_ENGINE_OFF)),null!=f&&void 0!==f&&f.length>0){var V=this.GetIdValue("15:",f);null!=V&&(A=parseFloat(V)),null!=(V=this.GetIdValue("14:",f))&&(O=parseFloat(V)),null!=(V=this.GetIdValue("1C:",f))&&(F=parseFloat(V)),null!=(V=this.GetIdValue("1E:",f))&&(N=(V=fuelUnitConversion(V,M.JS_UNIT_FUEL)).toFixed(0)),null!=(V=this.GetIdValue("1F:",f))&&(L=(V=fuelUnitConversion(V,M.JS_UNIT_FUEL)).toFixed(0)),E=(N+","+L+M.UNIT_FUEL).replace("--,","").replace(",--",""),null!=(V=this.GetIdValue("A:",f))&&(w=(V=mileageUnitConversion(V,M.JS_UNIT_DISTANCE))+"&nbsp;"+M.UNIT_DIST),null!=(V=this.GetIdValue("48:",f))&&(G=(G=tempUnitConversion(V,M.JS_UNIT_TEMPERATURE)).toFixed(1)),null!=(V=this.GetIdValue("49:",f))&&(C=(C=tempUnitConversion(V,M.JS_UNIT_TEMPERATURE)).toFixed(1)),I=(G+","+C+M.UNIT_TEMP).replace("--,","").replace(",--","");var H=M.getStatusById(e),B=M.getElementIndex("1",f);J=M.getStatusByIndex(B,H);var z=M.getElementIndex("63",f);y=M.getStatusByIndex(z,H)}var K="<div class='infowindow'><h3>"+t+"</h3>";1!=this.extbar&&1!=this.history||(K+="<div class='infodriver'><ul><li id='idrvdef_"+e+"'>"+D+"</li><li id='ndrvdef_"+e+"'>"+U+"</li></ul></div>");var Z=null,q=this.GetIdValue("7:",f),W=this.GetIdValue("8:",f);null!=q&&(Z=_+M.UNIT_SPEED+" ("+second2time(q)+")"),null!=W&&(Z=_+M.UNIT_SPEED+" ("+second2time(W)+")"),null==Z&&(Z=u),K+="<div class='infobase'><ul>",K+=_>0||null!=q?"<li title='"+M.JS_MOVING+"' class='infospeed' style='padding-left: 18px; background: url(../img/move.svg) no-repeat 0px; background-size : 18px 18px;'> <span>&nbsp;&nbsp;"+Z+"</span></li>":"<li title='"+M.JS_STATIC+" 'class='infospeed' style='padding-left: 18px; background: url(../img/parked.svg) no-repeat 0px; background-size : 19px 19px;'> <span>&nbsp;&nbsp;"+Z+"</span></li>",K+="<li title='"+M.JS_GPS_TIME+" ' class='infoltime'> <span>&nbsp;&nbsp;"+c+"</span></li><li title='"+M.JS_ODOMETER+" ' class='odometer'> <span>&nbsp;&nbsp;"+w+"</span></li><li> <span title='"+M.JS_GPS_SIGNAL+"' class='infogps'>"+O+"</span>&nbsp;&nbsp;<span title='"+M.JS_GSM_SIGNAL+"' class='infogsm'>"+A+"</span>&nbsp;&nbsp;<span title='"+M.JS_PASSENGER+"' class='infopassenger'>"+F+"</span></li><li title='"+M.JS_POSITION+"' class='infolocal'> <span>&nbsp;&nbsp;<a style ='color: #4D8ED9; text-decoration: none;' target='_blank' href="+JS_GOOGLE_MAP_BASE_LINK+"/maps?hl=en&q="+(o/1e6).toFixed(5)+","+(s/1e6).toFixed(5)+">"+(o/1e6).toFixed(5)+" &#176;,"+(s/1e6).toFixed(5)+" &#176;</a></span></li>",1==this.extbar&&(K+="<li><a href='#' class='button trackby' title='"+M.JS_CMD_TRACKBY+"' onClick='menuselect(1,\""+e+"\");'></a><a href='#' class='button objinfo' title='"+M.JS_CMD_OBJINFO+"' onClick='menuselect(2,\""+e+"\");'></a><a href='#' class='button sendcmd' title='"+M.JS_CMD_SENDCMD+"' onClick='menuselect(3,\""+e+'",'+v+");'></a>",K+="<a href='#' class='button lastpic' title='"+M.JS_LAST_PHOTO+"' onClick='menuselect(5,\""+e+"\");'></a>",K+="<a href='#' class='button lastvoice' title='"+M.JS_LAST_VOICE+"' onClick='menuselect(6,\""+e+"\");'></a>",K+="<a href='#' class='button shareposition' title='"+M.JS_SHARE_POSITION+"' onClick='menuselect(7,\""+e+"\");'></a>",d>0&&(K+="<a href='#' class='button altifno' title='"+M.JS_CMD_ALTINFO+"' onClick='menuselect(4,\""+e+"\");'></a>"),K+="</li>"),K+="</ul></div>",1!=this.extbar&&1!=this.history||(K+="<div class='infobottom'><ul>",null!=b&&void 0!==b&&b.length>0?b.indexOf("3005")>=0?K+="<li title='"+M.JS_ENGINE+"' class='infoacc' style='padding-left: 18px; background: url(../img/engine_on.svg) no-repeat 0px; background-size : 18px 18px;'> <span>&nbsp;"+x+"</span></li>":b.indexOf("3006")>=0?K+="<li title='"+M.JS_ENGINE+"' class='infoacc' style='padding-left: 18px; background: url(../img/engine_off.svg) no-repeat 0px; background-size : 18px 18px;'> <span>&nbsp;"+x+"</span></li>":K+="<li title='"+M.JS_ENGINE+"' class='infoacc'> <span>&nbsp;"+x+"</span></li>":K+="<li title='"+M.JS_ENGINE+"' class='infoacc'> <span>&nbsp;"+x+"</span></li>",K+="<li title='"+M.JS_FUEL+"' class='infofuel'> <span>&nbsp;"+E+"</span></li><li title='"+M.JS_TEMP+"' class='infotemp'> <span>&nbsp;"+I+"</span></li><li title='"+M.JS_BAT+"' class='infovolt'> <span>&nbsp;"+J+"</span></li><li title='"+M.JS_WEIGHT+"' class='infoweight'> <span>&nbsp;"+y+"</span></li></ul></div>"),K+="</div>";var Y=this.markers[e];Y?this.map_obj.UpdateMarker(Y,t,i,a,s,o,r,l,p,K,m,_,c,h,b,f,v,g,k,S):(Y=this.map_obj.NewMarker(e,t,i,a,s,o,r,l,p,K,m,this.extbar,_,c,h,b,f,v,g,k),this.markers[e]=Y,T=!0)}return K=null,M=null,T},DrawTrackLine:function(e,t,i,a,n,s,o,r,l,p,c,h){try{this.map_obj.DrawTrackLine(e,t,i,a,n,s,o,r,l,p,c,h)}catch(e){}},ShowHideMovesLine:function(e,t,i,a){try{this.map_obj.ShowHideMovesLine(e,t,i,a)}catch(e){}},ShowHideTrackLine:function(e,t){try{this.map_obj.ShowHideTrackLine(e,t)}catch(e){}},ShowHideAveragePoint:function(e){try{this.map_obj.ShowHideAveragePoint(e)}catch(e){}},AddTrackPoint:function(e,t,i,a,n,s,o,r){try{this.map_obj.AddTrackPoint(e,t,i,a,n,s,o,r)}catch(e){}},GetMarker:function(e){return this.markers[e]},LocateMarker:function(e,t,i,a){this.HideShowMarker(!1,-1e3);var n=this.markers[e];return n&&void 0!==this.map_obj&&this.map_obj.LocateMarker(n,t,i,a),n},LocateEventMarker:function(e){var t=this.map_obj.GetEventMarker(e);t&&void 0!==this.map_obj&&this.map_obj.LocateMarker(t,!0,!1,!1,!0)},LocateStopMarker:function(e){var t=this.map_obj.GetStopMarker(e);t&&void 0!==this.map_obj&&this.map_obj.LocateMarker(t,!0,!1,!1,!0)},LocateStartMarker:function(){var e=this.map_obj.GetStartMarker();e&&void 0!==this.map_obj&&this.map_obj.LocateMarker(e,!0,!1,!1,!0)},LocateEndMarker:function(){var e=this.map_obj.GetEndMarker();e&&void 0!==this.map_obj&&this.map_obj.LocateMarker(e,!0,!1,!1,!0)},LinkMarker:function(e){this.markers[e]&&this.map_obj},RemoveMarker:function(e){this.map_obj.RemoveMarker(this.markers[e]),delete this.markers[e]},RemoveTrack:function(e){this.map_obj.RemoveTrack(e)},ClearTrack:function(e){this.map_obj.ClearTrack(e)},ClearMarkers:function(){this.map_obj.ClearMarker(this.markers),this.markers=[]},MarkersFitBounds:function(){this.map_obj.MarkersFitBounds(this.markers)},HideShowMarker:function(e,t){if(void 0!==t){var i=this.markers[t];if(i){var a=[];a[t]=i,this.map_obj.HideShowMarker(a,e)}}else this.map_obj.HideShowMarker(this.markers,e)},ClustersMarker:function(e){this.map_obj.ClustersMarker(e)},RefreshClusters:function(){this.map_obj.RefreshClusters()},ToggleMarkerTooltip:function(e){this.map_obj.ToggleMarkerTooltip(this.markers,e)},ToggleStopLayer:function(e){this.map_obj.ToggleStopLayer(e)},ToggleEventLayer:function(e){this.map_obj.ToggleEventLayer(e)},ToggleAngleLayer:function(e){this.map_obj.ToggleAngleLayer(e)},ToggleTimesLayer:function(e){this.map_obj.ToggleTimesLayer(e)},ToggleDriver:function(e){this.map_obj.ToggleDriver(this.markers,e)},ResizeMapContainer:function(){this.map_obj.ResizeMapContainer()},ToggleSnapLayer:function(e){return this.map_obj.ToggleSnapLayer(e)}};